<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hier - documentation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/vs2015.min.css"
      integrity="sha512-mtXspRdOWHCYp+f4c7CkWGYPPRAhq9X+xCvJMUBVAb6pqA4U8pxhT3RWT3LP3bKbiolYL2CkL1bSKZZO4eeTew=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body data-bs-spy="scroll" data-bs-target="#navbar">
    <div class="background home-hero"></div>

    <div class="container-xl">
      <div class="d-flex flex-column flex-md-row shadow">
        <aside class="sidebar glass-bg">
          <nav id="navbar" class="navbar nav-pills navbar-light flex-column align-items-stretch p-3">
            <a class="navbar-brand" href="#">Documentation</a>
            <a class="nav-link" href="#introduction">Introduction</a>
            <a class="nav-link" href="#starter-template">Starter Template</a>
            <a class="nav-link" href="#parser">Parser</a>
          </nav>
        </aside>

        <main
          class="bg-white documentation-column"
          style="overflow: hidden"
          data-bs-spy="scroll"
          data-bs-target="#navbar"
          data-bs-offset="0"
          tabindex="0"
        >
          <section>
            <h1 id="introduction">Introduction</h1>
            <div class="lead my-3">
              Hier was invented as an alternative to existing libraries, allowing you to add new functionality to existing
              non-JavaScript projects without using build systems. The syntax of template literals is very simple and
              already familiar. So why not use all its power, right?
            </div>
            <p>To get started, just add a couple of necessary script tags:</p>
            <pre class="glass-bg code px-3 rounded">
              <code data-lang="html">
&lt;script src="https://cdn.jsdelivr.net/gh/alexseyka1/hier@master/src/hier-parser.js"&gt;&lt;/script&gt; 
&lt;script src="https://cdn.jsdelivr.net/gh/alexseyka1/hier@master/src/hier.js"&gt;&lt;/script&gt;</code>
            </pre>
            <p>
              The first script parses the string passed as a template literal and returns an AST tree, while the second
              script
              <ol>
                <li>Parses AST tree and creates components</li>
                <li>Renders them</li>
                <li>Mounts elements into a document</li>
                <li>And watches for changes</li>
              </ol>
            </p>
            <p>
              You can use the scripts directly from the cdn or <a href="https://github.com/alexseyka1/hier" class="btn btn-outline-primary">
                <span class="fa-brands fa-github"></span>
                Download them from github
              </a>
            </p>
          </section>

          <section>
            <h2 id="starter-template">Starter Template</h2>
            <p>
              If you are looking for an application template that you can simply paste on your site and have everything working right away, then just copy the code below:
            </p>

            <pre class="glass-bg code px-3 rounded">
              <code data-lang="html">
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Hier starter template&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;&lt;/div&gt;

    &lt;!-- Core libraries --&gt;
    &lt;script src="https://cdn.jsdelivr.net/gh/alexseyka1/hier@master/src/hier-parser.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/gh/alexseyka1/hier@master/src/hier.js"&gt;&lt;/script&gt;

    &lt;!-- Main script --&gt;
    &lt;script&gt;
    const { ast: html } = HierParser
    class App extends Hier.Component {
      _state = { liked: false }
      render() {
        const { liked } = this.state
        if (liked) return `You liked this!`
        
        return html`
          &lt;div&gt; Lets try to like this: &lt;/div&gt;
          &lt;button onClick=${() =&gt; this.setState({ liked: true })}&gt; ❤️Like &lt;/button&gt;
        `
      }
    }
    
    document.addEventListener("DOMContentLoaded", () =&gt; {
      Hier.render(App, document.getElementById("app"))
    })
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code>
            </pre>
          </section>

          <section>
            <h2 id="parser">Parser</h2>
            <p>
              The parser, which is presented in the file hier-parser.js, is responsible for parsing the template string, defining html elements, their tags, and components. It handles attribute values well, both quoted and unquoted. Values without quotes are conveniently passed as properties of components, they can be variables or inline values.
            </p>
            <p>For example:</p>

            <strong>Input</strong>
            <pre class="glass-bg code px-3 rounded">
              <code data-lang="js">
html`
  &lt;h1&gt; First header &lt;/h1&gt;
  &lt;h2&gt;
    Second header
    &lt;a href="#"&gt; With link inside &lt;/a&gt;
  &lt;/h2&gt;
`</code>
            </pre>

            <strong>Output</strong>
            <pre class="glass-bg code px-3 rounded">
              <code data-lang="json">
[
  {
    "tagName": "h1",
    "props": {},
    "children": [
      {
        "tagName": "textString",
        "props": {
          "value": "First header"
        }
      }
    ]
  },
  {
    "tagName": "h2",
    "props": {},
    "children": [
      {
        "tagName": "textString",
        "props": {
          "value": "Second header"
        }
      },
      {
        "tagName": "a",
        "props": {
          "href": "#"
        },
        "children": [
          {
            "tagName": "textString",
            "props": {
              "value": "with link inside"
            }
          }
        ]
      }
    ]
  }
]</code>
            </pre>
            <p>
              You can just use this parser for your own purposes, but it works best in conjunction with the Hier renderer.
            </p>
          </section>
        </main>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"
      integrity="sha512-yUUc0qWm2rhM7X0EFe82LNnv2moqArj5nro/w1bi05A09hRVeIZbN6jlMoyu0+4I/Bu4Ck/85JQIU82T82M28w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Core libraries -->
    <script src="https://cdn.jsdelivr.net/gh/alexseyka1/hier@master/src/hier-parser.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alexseyka1/hier@master/src/hier.js"></script>

    <!-- Index script -->
    <script src="./index.js"></script>
  </body>
</html>
